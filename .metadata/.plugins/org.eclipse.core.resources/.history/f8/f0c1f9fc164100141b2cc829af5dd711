package rubik;

import java.util.Arrays;

public class Cubies {
	static char[][][] A =new char[][][] {
		{
			{'R', 'Y', 'G'},//0
			{'Y', 'G'},		//1
			{'O', 'Y','G'},	//2
		},
		{
			{'R', 'G'},		//3
			{'G'},			//4 important!
			{'O', 'G'},		//5
		},
		{
			{'R', 'W', 'G'},//6 
			{'G', 'W'},		//7 important!
			{'G', 'W','O'}	//8
		}
	};
	static char[][][] B =new char[][][] {
		{
			{'Y', 'R',},	//0
			{'Y'},			//1 important!
			{'Y', 'O'},		//2
		},
		{
			{'R'},			//3 important!
			null,			//4 important!
			{'O'},			//5 important!
		},
		{
			{'R', 'W'},		//6 
			{'W'},			//7 important!
			{'O','W'}		//8
		}
	};
	static char[][][] C =new char[][][] {
		{
			{'R', 'B', 'Y'},//0
			{'Y', 'B'},		//1 
			{'Y', 'B', 'O'},//2
		},
		{
			{'R', 'B'},		//3 
			{'B'},			//4 important!
			{'O', 'B'},			//5 
		},
		{
			{'R', 'B','W'},		//6 
			{'B','W'},			//7 important!
			{'B','W','O'}		//8
		}
	};
	static int[][] corners =new int[][]{
		//starting 0,0
		{12, 6, 11}, //A-00
		{30, 36, 29},//A-02
		
		{51, 0, 9 }, //A-20
		{45, 42, 27},//A-22
		
		{14, 8, 15}, //C-00
		{32, 33, 38},//C-02
		
		{53, 2, 17}, //C-20
		{47, 35, 44} //C-22
	};
	static char[][] cornersFaces = new char[][]{
		{'Y', 'R', 'G'}, //A-00
		{'Y', 'O', 'G'}, //A-02
		{'W', 'R', 'G'}, //A-20
		{'W', 'O', 'G'}, //A-22
		
		{'Y', 'R', 'B'}, //C-00
		{'Y', 'B', 'O'}, //C-02
		{'W', 'R', 'B'}, //C-20
		{'W', 'B', 'O'}
	};
	public static int [][]  edges = new int[][]{
		{21, 20}, //A-01
		
		{3, 10},  //A-10
		{39, 28}, //A-12
		
		{48, 18}, //A-21
		
		{13, 7},  //B-00
		{31, 37}, //B-02
		
		{52, 1},  //B-20
		{46, 43}, //B-22
		
		{23, 24}, //C-01
		
		{5, 16},  //C-10
		{34, 41}, //C-12
		
		{50, 26}, //C-21
	};
	public static int[] centers = new int[] {22, 49, 4,25, 40, 19};
	public static char[] centersColors = new char[] {'Y', 'W', 'R','B', 'O', 'G'};
	public static char[][]cubeCorner =new char[8][3];
	public static boolean makeCube(String cubeString/*, char[][][] left, char[][][] middle, char[][][] right*/){
		for (int i =0; i<6; i++ ){
			//check centers
			char center = cubeString.charAt(centers[i]);
			if (center != centersColors[i])
				return false;
		}
		for (int i =0; i< corners.length; i++){
			//check corners
			cubeCorner[i][0] = cubeString.charAt(corners[i][0]);
			cubeCorner[i][1] = cubeString.charAt(corners[i][1]);
			cubeCorner[i][2] = cubeString.charAt(corners[i][2]);
			
			for(int j=0; j< cornersFaces.length; j++){
				if (checkFaces(cubeCorner[i], cornersFaces[j])){
					System.out.println("pos " +j +" check face rotation " +checkFaceRotation(cubeCorner[i], j));
					if (checkFaceRotation(cubeCorner[i], j))
						break;
					else if (j==cornersFaces.length-1)
						return false;
				}
			}
			
		}
				
		return true;
	}
	public static boolean checkValid(String cubeString/*char[][] left, char[][] middle, char[][] right*/){
		return makeCube(cubeString);
	}
	private static boolean checkFaces(char[] cubie, char[] defaultCubieFaces){
		return (new String(cubie)).contains(new String(defaultCubieFaces));
	}
	private static boolean checkFaceRotation(char[] cubieFaces, int pos){
		String faceStr = (new String(cubieFaces));
		if (pos ==0 ||  pos ==3 ||pos==6||pos==7){
			//System.out.println(pos +" " + faceStr + " " + new String(cornersFaces[pos]));
			//System.out.println(faceStr.equals(new String(cornersFaces[pos])));
			return faceStr.equals(new String(cornersFaces[pos])) 
					|| faceStr.equals(cornersFaces[pos][2] +cornersFaces[pos][0]+cornersFaces[pos][0])
					|| faceStr.equals(cornersFaces[pos][1]+ cornersFaces[pos][2] + cornersFaces[pos][0]);
		}
		else if (pos==1 || pos==2 || pos==4 ||pos==5){
			return faceStr.equals(cornersFaces[pos][0]+cornersFaces[pos][2]+cornersFaces[pos][1]) 
					|| faceStr.equals(cornersFaces[pos][1] +cornersFaces[pos][0]+cornersFaces[pos][2])
					|| faceStr.equals(cornersFaces[pos][2]+ cornersFaces[pos][1] + cornersFaces[pos][0]);
		}
		return false;
	}
}
